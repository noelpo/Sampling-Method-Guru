<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sampling Smart Accessor</title>
  <style>
    :root {
      --bg: #ffffff;
      --text: #333;
      --card: #fff;
      --accent: #6a1b9a;
      --highlight: #f3e5f5;
    }
    body.dark {
      --bg: #1e1e1e;
      --text: #e0e0e0;
      --card: #2c2c2c;
      --accent: #bb86fc;
      --highlight: #3a2a4d;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--bg);
      color: var(--text);
      padding: 2rem;
      margin: 0;
      transition: background 0.3s, color 0.3s;
    }
    h1 {
      text-align: center;
      color: var(--accent);
      margin-bottom: 1rem;
    }
    .container {
      max-width: 700px;
      margin: 0 auto;
      background: var(--card);
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.15);
      transition: background 0.3s;
    }
    textarea {
      width: 100%;
      height: 150px;
      padding: 1rem;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      resize: vertical;
    }
    button, .example-btn {
      margin-top: 1rem;
      background-color: var(--accent);
      color: white;
      border: none;
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover, .example-btn:hover {
      background-color: #4a148c;
    }
    .result {
      margin-top: 2rem;
      padding: 1.5rem;
      border-radius: 8px;
      background-color: var(--highlight);
      border-left: 6px solid var(--accent);
      display: none;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.4s ease-in-out;
    }
    .result.show {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }
    .method {
      font-weight: bold;
      font-size: 1.2rem;
    }
    .explanation {
      margin-top: 0.5rem;
    }
    .toggle {
      text-align: right;
      margin-bottom: 1rem;
    }
    .examples {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    .example-btn {
      background-color: #9575cd;
    }
  </style>
</head>
<body>
  <h1>Sampling Smart Accessor</h1>
  <div class="container">
    <div class="toggle">
      <label>
        <input type="checkbox" id="modeToggle" onchange="toggleMode()"> Dark Mode
      </label>
    </div>
    <textarea id="question" placeholder="Type your sampling question here..."></textarea>
    <button onclick="analyzeQuestion()">Get Sampling Method</button>
    <div class="examples">
      <button class="example-btn" onclick="loadExample(0)">Example 1</button>
      <button class="example-btn" onclick="loadExample(1)">Example 2</button>
      <button class="example-btn" onclick="loadExample(2)">Example 3</button>
      <button class="example-btn" onclick="loadExample(3)">Example 4</button>
      <button class="example-btn" onclick="loadExample(4)">Example 5</button>
    </div>
    <div id="output" class="result"></div>
  </div>

  <script>
    const methods = [
      {
        name: "Cluster Sampling",
        keywords: [
          "cluster", "divided into groups", "all selected from group", "everyone in group", "entire group selected",
          "whole subgroup", "all members from subgroup", "cluster selected", "surveyed all in group", "all individuals from some groups"
        ],
        scenarios: [
          /(population|students|people|members|participants).*(divided|grouped).*(clusters|groups|blocks|classes|sections|teams).*(randomly|at random)? (choose|select|pick) (some|one|several|a few) (clusters|groups|blocks|classes|sections|teams).*(survey|study|select|pick|choose|question|ask) (all|everyone|every|each) (in|within|from) (the|those) (clusters|groups|blocks|classes|sections|teams)/,
          /(some|one|several|a few) (clusters|groups|blocks|classes|sections|teams) (are|were) (chosen|selected|picked) (at )?random.*all (individuals|students|children|participants|members) (in|from|within) (those|the selected) (clusters|groups|blocks|classes|sections|teams) (are|were) (surveyed|studied|selected|picked|chosen|questioned|asked)/,
          /select (entire|whole) (groups|clusters|blocks|classes|sections|teams)/,
          /(entire|whole) (group|class|section|cluster|team) (is|was) (selected|picked|chosen)/,
          /(pick|choose|select) (some|a few|several|one) (groups|classes|clusters|sections|teams), (survey|study|question|ask) everyone in (those|the selected)/
        ],
        explanation: "This is Cluster Sampling because the population was divided into groups (clusters), and all individuals in selected clusters were surveyed."
      }
    ];

    function analyzeQuestion() {
      const input = document.getElementById("question").value.toLowerCase();
      const outputDiv = document.getElementById("output");

      // Scenario-based matching
      for (const method of methods) {
        if (method.scenarios) {
          for (const scenario of method.scenarios) {
            if (scenario.test(input)) {
              outputDiv.innerHTML = `
                <div class="method">Answer: ${method.name}</div>
                <div class="explanation">${method.explanation}</div>
              `;
              outputDiv.className = "result show";
              return;
            }
          }
        }
      }

      // Keyword-based fallback
      for (const method of methods) {
        if (method.keywords.some(phrase => input.includes(phrase))) {
          outputDiv.innerHTML = `
            <div class="method">Answer: ${method.name}</div>
            <div class="explanation">${method.explanation}</div>
          `;
          outputDiv.className = "result show";
          return;
        }
      }

      // No match
      outputDiv.innerHTML = `
        <div class="method">Answer: Unable to determine</div>
        <div class="explanation">Please check the question for clarity or rephrase using sampling terminology.</div>
      `;
      outputDiv.className = "result show";
    }

    const examples = [
      "The class was told to answer a question. Each student had the same chance to be picked.",
      "The university is split into faculties. One student is selected from each faculty.",
      "A population is divided into towns. Some towns are picked, and every person in those towns is surveyed.",
      "A study is being conducted to determine the average number of primary school children in rural St. Andrew who attend face-to-face sessions. Seven towns were chosen at random from a total of twenty, then 20 children were picked at random from each selected town.",
      "The Department of Economics would like to know the preferred mode of delivery for classes next semester. The department sends out a google form asking students to participate. What type of sampling method is being used?"
    ];

    function loadExample(index) {
      document.getElementById("question").value = examples[index];
      document.getElementById("output").className = "result";
    }

    function toggleMode() {
      document.body.classList.toggle("dark");
    }
  </script>
</body>
</html>
