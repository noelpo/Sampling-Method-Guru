<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sampling Method Identifier</title>
  <style>
    :root {
      --primary: #6a1b9a;
      --primary-light: #9c4dcc;
      --secondary: #26a69a;
      --background: #f5f5f5;
      --card: #ffffff;
      --text: #333333;
      --text-light: #666666;
      --border: #e0e0e0;
      --success: #4caf50;
    }
    body.dark-mode {
      --primary: #bb86fc;
      --primary-light: #d1a4ff;
      --secondary: #03dac6;
      --background: #121212;
      --card: #1e1e1e;
      --text: #e0e0e0;
      --text-light: #b0b0b0;
      --border: #333333;
      --success: #66bb6a;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.6;
      padding: 20px;
      transition: all 0.3s ease;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    header {
      text-align: center;
      margin-bottom: 30px;
      position: relative;
    }
    h1 {
      color: var(--primary);
      font-size: 2.5rem;
      margin-bottom: 10px;
    }
    .subtitle {
      color: var(--text-light);
      font-size: 1.1rem;
    }
    .toggle-container {
      position: absolute;
      top: 0;
      right: 0;
      display: flex;
      align-items: center;
    }
    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 30px;
      margin-left: 10px;
    }
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--border);
      transition: .4s;
      border-radius: 34px;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 22px;
      width: 22px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }
    input:checked + .slider {
      background-color: var(--primary);
    }
    input:checked + .slider:before {
      transform: translateX(30px);
    }
    .card {
      background-color: var(--card);
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      padding: 25px;
      margin-bottom: 30px;
    }
    .input-group {
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--primary);
    }
    textarea {
      width: 100%;
      min-height: 150px;
      padding: 15px;
      border: 1px solid var(--border);
      border-radius: 8px;
      resize: vertical;
      background-color: var(--card);
      color: var(--text);
      transition: border-color 0.3s;
    }
    textarea:focus {
      outline: none;
      border-color: var(--primary);
    }
    button {
      background-color: var(--primary);
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    button:hover {
      background-color: var(--primary-light);
    }
    button i {
      margin-right: 8px;
    }
    .result {
      display: none;
      margin-top: 30px;
      padding: 20px;
      border-radius: 8px;
      background-color: rgba(106, 27, 154, 0.1);
      border-left: 5px solid var(--primary);
      animation: fadeIn 0.5s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .result.show {
      display: block;
    }
    .method-name {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 10px;
    }
    .method-explanation {
      margin-bottom: 15px;
    }
    .confidence-meter {
      margin-top: 10px;
      height: 5px;
      background: #e0e0e0;
      border-radius: 3px;
      overflow: hidden;
    }
    .confidence-bar {
      height: 100%;
      background: var(--primary);
      width: 0%;
      transition: width 0.5s ease;
    }
    .confidence-text {
      font-size: 0.8rem;
      color: var(--text-light);
      margin-top: 3px;
    }
    .examples-container {
      margin-top: 30px;
    }
    .examples-title {
      font-size: 1.2rem;
      color: var(--primary);
      margin-bottom: 15px;
      font-weight: 600;
    }
    .example-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }
    .example-button {
      background-color: var(--secondary);
      color: white;
      border: none;
      padding: 8px 16px;
      font-size: 14px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
    }
    .example-button:hover {
      opacity: 0.9;
      transform: translateY(-2px);
    }
    footer {
      text-align: center;
      margin-top: 40px;
      color: var(--text-light);
      font-size: 14px;
    }
    @media (max-width: 768px) {
      h1 {
        font-size: 2rem;
      }
      .toggle-container {
        position: static;
        justify-content: center;
        margin-top: 15px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Sampling Method Identifier</h1>
      <p class="subtitle">Determine the sampling method used in research scenarios</p>
      <div class="toggle-container">
        <span>Dark Mode</span>
        <label class="toggle-switch">
          <input type="checkbox" id="darkModeToggle">
          <span class="slider"></span>
        </label>
      </div>
    </header>
    <main>
      <div class="card">
        <div class="input-group">
          <label for="question">Enter your sampling question:</label>
          <textarea id="question" placeholder="Example: A researcher grouped students by faculty and selected 50 from each..."></textarea>
        </div>
        <button id="analyzeBtn" onclick="analyzeQuestion()">
          <i>üîç</i> Analyze Sampling Method
        </button>
        <div id="result" class="result">
          <div class="method-name" id="methodName">Method Name</div>
          <div class="method-explanation" id="methodExplanation">Explanation will appear here...</div>
          <div class="confidence-meter">
            <div class="confidence-bar" id="confidenceBar"></div>
          </div>
          <div class="confidence-text" id="confidenceText">Confidence: 0%</div>
        </div>
      </div>
      <div class="examples-container">
        <h3 class="examples-title">Try these examples:</h3>
        <div class="example-buttons">
          <button class="example-button" onclick="loadExample(0)">Voluntary Response</button>
          <button class="example-button" onclick="loadExample(1)">Simple Random</button>
          <button class="example-button" onclick="loadExample(2)">Stratified</button>
          <button class="example-button" onclick="loadExample(3)">Multistage</button>
          <button class="example-button" onclick="loadExample(4)">Cluster</button>
        </div>
      </div>
    </main>
    <footer>
      <p> ECON1005 STUDENTS | NO LIMITS TUTORIAL SERVICE </p>
    </footer>
  </div>

  <script>
    // Synonyms dictionary
    const synonyms = {
      "chose": ["opted", "selected", "picked"],
      "select": ["sample", "choose", "pick"],
      "group": ["strata", "cluster", "category", "stratum"],
      "randomly": ["random", "at random"]
    };

    function expandSynonyms(text) {
      let expanded = text;
      Object.entries(synonyms).forEach(([key, values]) => {
        values.forEach(val => {
          const regex = new RegExp(`\\b${val}\\b`, "gi");
          expanded = expanded.replace(regex, key);
        });
      });
      return expanded;
    }

    class SamplingMethodClassifier {
      constructor() {
        this.questionBank = [
          {
            question: "The Commuting Students Association (CSA) wants to determine the most frequent mode of transportation to campus. They grouped all the commuting students according to their faculties and interviewed 500 students from each faculty. What type of sampling method was used?",
            method: "Stratified Random Sampling",
            explanation: "This is Stratified Random Sampling because the population was first divided into faculty groups (strata), and then students were randomly selected from each faculty group."
          },
          {
            question: "The Ministry of Education would like to determine how the high school students island-wide are coping with their online studies during the COVID-19 pandemic. They randomly select 2 high schools from each county to participate in the survey. From each selected school, 15 randomly selected students from two randomly selected grades are included in the sample. What type of sample was taken?",
            method: "Multistage Random Sampling",
            explanation: "This is Multistage Random Sampling because selection occurred in multiple stages (counties ‚Üí schools ‚Üí grades ‚Üí students) with random selection at each stage."
          },
          {
            question: "A study is being conducted to determine the average number of primary school children in rural St. Andrew who attend face-to-face sessions. Seven towns were chosen at random from a total of twenty. Forty children were then selected at random. What type of sampling method is being used?",
            method: "Multistage Random Sampling",
            explanation: "This is Multistage Random Sampling because the selection process occurred in multiple stages (first towns, then children within towns)."
          },
          {
            question: "The Department of Economics would like to know the preferred mode of delivery for classes next semester. They obtain a list of all 2000 students and select 100 from that list. What type of sampling Method is being used?",
            method: "Simple Random Sampling",
            explanation: "This is Simple Random Sampling because students were selected randomly from the complete list without any grouping."
          },
          {
            question: "A candy company wishes to research its customers' purchasing behaviors in order to forecast the future of its product line. If there are 10,000 consumers, a random sample of 100 customers may be chosen. What kind of sampling technique is being employed?",
            method: "Simple Random Sampling",
            explanation: "This is Simple Random Sampling because customers were selected randomly from the entire population."
          },
          {
            question: "The Department of Economics would like to know the preferred mode of delivery for classes next semester. The department sends out a google form asking students to participate. What type of sampling method is being used?",
            method: "Voluntary Response Sample",
            explanation: "This is a Voluntary Response Sample because students chose whether to participate in the survey."
          },
          {
            question: "7Krave bearers in Kingston are divided into four groups. They randomly select 2 groups and interviewed all riders in each group to determine whether they have been robbed in the last two months. What type of sampling method is being used?",
            method: "Cluster Sampling",
            explanation: "This is Cluster Sampling because groups (clusters) were randomly selected and ALL members of those groups were surveyed."
          },
          {
            question: "A bank wants to conduct a client satisfaction survey. Their customers either have chequing accounts, savings accounts or both. They select twenty customers with only checking accounts, ten customers with only savings accounts, and five customers with both types of account are chosen at random. What type of sampling method is being used?",
            method: "Stratified Random Sampling",
            explanation: "This is Stratified Random Sampling because customers were divided into account type groups (strata) and then sampled from each group."
          },
          {
            question: "A research team wants to conduct analysis on countries based on their political regime types. Countries are classified into the following regimes: full democracies, flawed democracies, hybrid regimes and authoritarian regimes. The team randomly selects 5 countries from each of the 4 regimes.",
            method: "Stratified Random Sampling",
            explanation: "This is Stratified Random Sampling because countries were divided into political regime groups (strata) and then sampled from each group."
          },
          {
            question: "A bank manager wants to determine the level of work-life balance being experienced by team members. The manager collects data from 10 randomly selected team members at 5 randomly selected locations.",
            method: "Multistage Random Sampling",
            explanation: "This is Multistage Random Sampling because the selection process occurred in multiple stages (first locations, then team members within locations)."
          }
        ];
        this.weightedKeywords = {
          "group": 0.2,
          "strata": 0.2,
          "stage": 0.15,
          "cluster": 0.2,
          "each group": 0.15,
          "entire group": 0.15,
          "random": 0.15
        };
      }

      analyze(input) {
        const normalized = expandSynonyms(input.toLowerCase());

        // Pattern Matching
        if (/self-selected|volunteer|opt(ed)? in|google form/.test(normalized)) {
          return {
            method: "Voluntary Response Sample",
            explanation: "This is a Voluntary Response Sample because participants chose whether to respond.",
            confidence: 0.9
          };
        } else if (/randomly? select.*from entire population/.test(normalized)) {
          return {
            method: "Simple Random Sampling",
            explanation: "This is Simple Random Sampling because individuals were selected randomly from the entire population without any grouping.",
            confidence: 0.9
          };
        } else if (/grouped by|divided into strata|from each group/.test(normalized)) {
          return {
            method: "Stratified Random Sampling",
            explanation: "This is Stratified Random Sampling because the population was divided into groups (strata), and then individuals were selected from each group.",
            confidence: 0.95
          };
        } else if (/multiple stages|first.*then.*select/.test(normalized)) {
          return {
            method: "Multistage Random Sampling",
            explanation: "This is Multistage Random Sampling because selection occurred in multiple stages with random selection at each stage.",
            confidence: 0.93
          };
        } else if (/select.*all.*in groups/.test(normalized)) {
          return {
            method: "Cluster Sampling",
            explanation: "This is Cluster Sampling because groups (clusters) were randomly selected and ALL members of those groups were surveyed.",
            confidence: 0.92
          };
        } else {
          return {
            method: "Unable to determine",
            explanation: "Please check the question for clarity or rephrase using sampling terminology.",
            confidence: 0
          };
        }
      }
    }

    const classifier = new SamplingMethodClassifier();

    function analyzeQuestion() {
      const input = document.getElementById("question").value.trim();
      const result = classifier.analyze(input);

      document.getElementById("methodName").innerText = result.method;
      document.getElementById("methodExplanation").innerText = result.explanation;
      document.getElementById("confidenceText").innerText = `Confidence: ${(result.confidence * 100).toFixed(0)}%`;
      document.getElementById("confidenceBar").style.width = `${result.confidence * 100}%`;
      document.getElementById("result").classList.add("show");
    }

    function loadExample(index) {
      const examples = [
        "The Department of Economics would like to know the preferred mode of delivery for classes next semester. The department sends out a google form asking students to participate. What type of sampling method is being used?",
        "The Department of Economics would like to know the preferred mode of delivery for classes next semester. They obtain a list of all 2000 students and select 100 from that list. What type of sampling Method is being used?",
        "The Commuting Students Association (CSA) wants to determine the most frequent mode of transportation to campus. They grouped all the commuting students according to their faculties and interviewed 500 students from each faculty. What type of sampling method was used?",
        "The Ministry of Education would like to determine how the high school students island-wide are coping with their online studies during the COVID-19 pandemic. They randomly select 2 high schools from each county to participate in the survey. From each selected school, 15 randomly selected students from two randomly selected grades are included in the sample. What type of sample was taken?",
        "7Krave bearers in Kingston are divided into four groups. They randomly select 2 groups and interviewed all riders in each group to determine whether they have been robbed in the last two months. What type of sampling method is being used?"
      ];
      if (index >= 0 && index < examples.length) {
        document.getElementById("question").value = examples[index];
        document.getElementById("result").className = "result";
      }
    }

    // Dark mode toggle
    const darkModeToggle = document.getElementById('darkModeToggle');
    darkModeToggle.addEventListener('change', function() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('darkMode', this.checked);
    });

    // Check for saved dark mode preference
    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark-mode');
      darkModeToggle.checked = true;
    }

    // Initialize with a stratified example
    window.onload = function() {
      document.getElementById("question").value = 
        "The Commuting Students Association (CSA) wants to determine the most frequent mode of transportation to campus. They grouped all the commuting students according to their faculties and interviewed 500 students from each faculty. What type of sampling method was used?";
    };
  </script>
</body>
</html>
