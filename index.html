<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sampling Method Identifier</title>
  <style>
    :root {
      --primary: #6a1b9a;
      --primary-light: #9c4dcc;
      --secondary: #26a69a;
      --background: #f5f5f5;
      --card: #ffffff;
      --text: #333333;
      --text-light: #666666;
      --border: #e0e0e0;
      --success: #4caf50;
    }

    body.dark-mode {
      --primary: #bb86fc;
      --primary-light: #d1a4ff;
      --secondary: #03dac6;
      --background: #121212;
      --card: #1e1e1e;
      --text: #e0e0e0;
      --text-light: #b0b0b0;
      --border: #333333;
      --success: #66bb6a;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.6;
      padding: 20px;
      transition: all 0.3s ease;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }

    header {
      text-align: center;
      margin-bottom: 30px;
      position: relative;
    }

    h1 {
      color: var(--primary);
      font-size: 2.5rem;
      margin-bottom: 10px;
    }

    .subtitle {
      color: var(--text-light);
      font-size: 1.1rem;
    }

    .toggle-container {
      position: absolute;
      top: 0;
      right: 0;
      display: flex;
      align-items: center;
    }

    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 30px;
      margin-left: 10px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--border);
      transition: .4s;
      border-radius: 34px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 22px;
      width: 22px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: var(--primary);
    }

    input:checked + .slider:before {
      transform: translateX(30px);
    }

    .card {
      background-color: var(--card);
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      padding: 25px;
      margin-bottom: 30px;
    }

    .input-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--primary);
    }

    textarea {
      width: 100%;
      min-height: 150px;
      padding: 15px;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-family: inherit;
      font-size: 16px;
      resize: vertical;
      background-color: var(--card);
      color: var(--text);
      transition: border-color 0.3s;
    }

    textarea:focus {
      outline: none;
      border-color: var(--primary);
    }

    button {
      background-color: var(--primary);
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    button:hover {
      background-color: var(--primary-light);
    }

    button i {
      margin-right: 8px;
    }

    .result {
      display: none;
      margin-top: 30px;
      padding: 20px;
      border-radius: 8px;
      background-color: rgba(106, 27, 154, 0.1);
      border-left: 5px solid var(--primary);
      animation: fadeIn 0.5s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .result.show {
      display: block;
    }

    .method-name {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 10px;
    }

    .method-explanation {
      margin-bottom: 15px;
    }

    .examples-container {
      margin-top: 30px;
    }

    .examples-title {
      font-size: 1.2rem;
      color: var(--primary);
      margin-bottom: 15px;
      font-weight: 600;
    }

    .example-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }

    .example-button {
      background-color: var(--secondary);
      color: white;
      border: none;
      padding: 8px 16px;
      font-size: 14px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .example-button:hover {
      opacity: 0.9;
      transform: translateY(-2px);
    }

    footer {
      text-align: center;
      margin-top: 40px;
      color: var(--text-light);
      font-size: 14px;
    }

    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .toggle-container {
        position: static;
        justify-content: center;
        margin-top: 15px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Sampling Method Identifier</h1>
      <p class="subtitle">Determine the sampling method used in research scenarios</p>
      <div class="toggle-container">
        <span>Dark Mode</span>
        <label class="toggle-switch">
          <input type="checkbox" id="darkModeToggle">
          <span class="slider"></span>
        </label>
      </div>
    </header>

    <main>
      <div class="card">
        <div class="input-group">
          <label for="question">Enter your sampling question:</label>
          <textarea id="question" placeholder="Example: A researcher obtains a list of all students and randomly selects 100..."></textarea>
        </div>
        <button id="analyzeBtn" onclick="analyzeQuestion()">
          <i>üîç</i> Analyze Sampling Method
        </button>
        
        <div id="result" class="result">
          <div class="method-name" id="methodName">Method Name</div>
          <div class="method-explanation" id="methodExplanation">Explanation will appear here...</div>
        </div>
      </div>

      <div class="examples-container">
        <h3 class="examples-title">Try these examples:</h3>
        <div class="example-buttons">
          <button class="example-button" onclick="loadExample(0)">Voluntary Response</button>
          <button class="example-button" onclick="loadExample(1)">Simple Random</button>
          <button class="example-button" onclick="loadExample(2)">Stratified</button>
          <button class="example-button" onclick="loadExample(3)">Multistage</button>
          <button class="example-button" onclick="loadExample(4)">Cluster</button>
        </div>
      </div>
    </main>

    <footer>
      <p>Created for research methods students | Static website for GitHub deployment</p>
    </footer>
  </div>

  <script>
    // Enhanced sampling methods data with improved detection
    const methods = [
      {
        name: "Voluntary Response Sample",
        keywords: ["volunteer", "self-selected", "opted in", "chose to respond", "google form", "decided to participate"],
        scenarios: [
          /(google\sform|form|survey).*(ask|invite).*(students|participants).*(participate|respond)/i,
          /(students|participants).*(asked|invited).*(voluntarily|optional).*respond/i,
          /volunteer.*participate/i,
          /self-select.*sample/i
        ],
        explanation: "This is a Voluntary Response Sample because participants chose to respond ‚Äî they were not randomly selected. You're the one who self-selected to be part of the sample; it was your choice."
      },
      {
        name: "Simple Random Sampling",
        keywords: ["random sample", "equal chance", "no groups", "entire population", "randomly selected", "selected from list"],
        scenarios: [
          /(randomly|random) (select|choose|pick|draw) (\d+|some|several) (students|people|individuals) (from|out of) (all|entire|complete) (list|population)/i,
          /obtain.*list.*select.*\d+/i,
          /every (member|individual).*equal chance/i,
          /no.*grouping.*done/i,
          /select.*from.*list.*without.*group/i
        ],
        explanation: "This is Simple Random Sampling because every individual in the population had an equal chance of being selected to form the sample. The researcher obtained a complete list and randomly selected participants without any grouping or stratification."
      },
      {
        name: "Stratified Random Sampling",
        keywords: ["stratified", "strata", "grouped by", "divided into categories", "from each", "each category"],
        scenarios: [
          /(classified|divided|grouped|stratified).*by.*(educational level|faculty|gender|age|group|category|strata)/i,
          /select.*(one|some|\d+).*from each (group|category|stratum|division)/i,
          /divided.*once.*unique groups/i,
          /ensure.*representation.*from.*each/i
        ],
        explanation: "This is Stratified Random Sampling because the population was divided once into unique groups (strata), and then we selected at least one individual from each group to form the sample."
      },
      {
        name: "Multistage Random Sampling",
        keywords: ["multiple stages", "select groups then individuals", "grouped twice", "sampled in steps"],
        scenarios: [
          /first.*select.*(towns|schools|areas|regions).*then.*(select|choose).*(students|individuals)/i,
          /select.*groups.*then.*sample.*from each/i,
          /divided.*more than once/i,
          /two-stage|multi-stage/i
        ],
        explanation: "This is Multistage Random Sampling because the population was divided into various groups in multiple stages, and then we selected some individuals from the final subgroups to form the sample."
      },
      {
        name: "Cluster Sampling",
        keywords: ["cluster", "group selected", "surveyed all in group", "entire group", "whole subgroup"],
        scenarios: [
          /divided.*groups.*select.*some.*survey all.*in those groups/i,
          /select.*entire.*group.*and.*survey all/i,
          /all.*members.*selected groups/i,
          /choose.*clusters.*study.*everyone/i
        ],
        explanation: "This is Cluster Sampling because the population was divided into groups (clusters), and then we selected all individuals from the chosen groups to form the sample."
      }
    ];

    // DOM elements
    const questionInput = document.getElementById('question');
    const resultDiv = document.getElementById('result');
    const methodName = document.getElementById('methodName');
    const methodExplanation = document.getElementById('methodExplanation');
    const darkModeToggle = document.getElementById('darkModeToggle');

    // Example questions including the one from your image
    const examples = [
      "The Department of Economics sends out a Google Form asking students to voluntarily participate in a survey about course delivery preferences. What sampling method is this?",
      "The Department of Economics would like to know the preferred mode of delivery for classes next semester. They obtain a list of all 2000 students and select 100 from that list. What type of sampling Method is being used?",
      "A university wants to survey students. They divide the student population by faculty (Arts, Science, Engineering) and randomly select 20 students from each faculty. What sampling method is this?",
      "A national study first randomly selects 10 counties, then randomly selects 5 schools from each county, then randomly selects 20 students from each school. What sampling method is this?",
      "A researcher divides a city into neighborhoods, randomly selects 5 neighborhoods, and surveys every household in those neighborhoods. What sampling method is this?"
    ];

    // Enhanced analysis function
    function analyzeQuestion() {
      const input = questionInput.value.trim();
      const outputDiv = resultDiv;
      
      // Clear previous results
      outputDiv.className = "result";
      
      if (!input) {
        displayResult("Error", "Please enter a question about sampling methods.");
        return;
      }

      const inputLower = input.toLowerCase();

      // Check for specific scenarios first with more precise matching
      for (const method of methods) {
        for (const pattern of method.scenarios) {
          if (pattern.test(inputLower)) {
            displayResult(method.name, method.explanation);
            return;
          }
        }
      }

      // Then check for keywords with context
      for (const method of methods) {
        for (const keyword of method.keywords) {
          if (inputLower.includes(keyword)) {
            // Additional context checks for simple random sampling
            if (method.name === "Simple Random Sampling") {
              if (!inputLower.includes("group") && 
                  !inputLower.includes("category") && 
                  !inputLower.includes("strata")) {
                displayResult(method.name, method.explanation);
                return;
              }
            } else {
              displayResult(method.name, method.explanation);
              return;
            }
          }
        }
      }

      // Special case for simple random when selecting from a list
      if (/(obtain|have|get).*list.*(select|choose|pick).*\d+/i.test(inputLower) && 
          !inputLower.includes("group") && !inputLower.includes("category") && !inputLower.includes("strata")) {
        displayResult(
          "Simple Random Sampling", 
          "This is Simple Random Sampling because the researcher obtained a complete list of the population and randomly selected participants without any grouping or stratification."
        );
        return;
      }

      // If no match found
      displayResult(
        "Unable to determine", 
        "Please check the question for clarity or rephrase using sampling terminology. Make sure to include details about how the sample was selected."
      );
    }

    // Display the result
    function displayResult(name, explanation) {
      methodName.textContent = name;
      methodExplanation.textContent = explanation;
      resultDiv.className = "result show";
    }

    // Load example questions
    function loadExample(index) {
      if (index >= 0 && index < examples.length) {
        questionInput.value = examples[index];
        resultDiv.className = "result";
      }
    }

    // Dark mode toggle
    darkModeToggle.addEventListener('change', function() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('darkMode', this.checked);
    });

    // Check for saved dark mode preference
    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark-mode');
      darkModeToggle.checked = true;
    }

    // Initialize with the example from your image
    window.onload = function() {
      questionInput.value = examples[1]; // The simple random sampling example
    };
  </script>
</body>
</html>
