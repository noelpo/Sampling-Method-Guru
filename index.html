<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sampling Smart Accessor</title>
  <style>
    :root {
      --bg: #ffffff;
      --text: #333;
      --card: #f9f9f9;
      --accent: #4a148c;
      --highlight: #ede7f6;
      --hover-accent: #6a1b9a;
    }

    body.dark {
      --bg: #1e1e1e;
      --text: #f5f5f5;
      --card: #2d2d2d;
      --accent: #bb86fc;
      --highlight: #3a2a4d;
      --hover-accent: #ce94ff;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      transition: all 0.3s ease;
    }

    h1 {
      text-align: center;
      margin-top: 2rem;
      color: var(--accent);
    }

    .container {
      max-width: 800px;
      margin: 2rem auto;
      padding: 2rem;
      background: var(--card);
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      transition: background 0.3s;
    }

    textarea {
      width: 100%;
      min-height: 120px;
      padding: 1rem;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      resize: vertical;
      background: var(--highlight);
      color: var(--text);
      transition: border 0.3s;
    }

    textarea:focus {
      outline: none;
      border-color: var(--accent);
    }

    button, .example-btn {
      display: inline-block;
      margin-top: 1rem;
      background-color: var(--accent);
      color: white;
      border: none;
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover, .example-btn:hover {
      background-color: var(--hover-accent);
    }

    .toggle {
      text-align: right;
      margin-bottom: 1rem;
    }

    .examples {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
    }

    .example-btn {
      background-color: #9575cd;
    }

    .result {
      margin-top: 2rem;
      padding: 1.5rem;
      border-radius: 8px;
      background-color: var(--highlight);
      border-left: 6px solid var(--accent);
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.4s ease-in-out;
      display: none;
    }

    .result.show {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    .method {
      font-weight: bold;
      font-size: 1.2rem;
    }

    .explanation {
      margin-top: 0.5rem;
      line-height: 1.5;
    }
  </style>
</head>
<body>

  <h1>Sampling Smart Accessor</h1>

  <div class="container">
    <div class="toggle">
      <label>
        <input type="checkbox" id="modeToggle" onchange="toggleMode()"> Dark Mode
      </label>
    </div>

    <textarea id="question" placeholder="Type your sampling question here..."></textarea>
    <button onclick="analyzeQuestion()">Get Sampling Method</button>

    <div class="examples">
      <button class="example-btn" onclick="loadExample(0)">Example 1</button>
      <button class="example-btn" onclick="loadExample(1)">Example 2</button>
      <button class="example-btn" onclick="loadExample(2)">Example 3</button>
      <button class="example-btn" onclick="loadExample(3)">Example 4</button>
      <button class="example-btn" onclick="loadExample(4)">Example 5</button>
    </div>

    <div id="output" class="result"></div>
  </div>

  <script>
    const methods = [
      {
        name: "Voluntary Response Sample",
        keywords: ["self-selected", "volunteer", "chose to respond", "google form", "opted in", "decided to participate"],
        scenarios: [
          /(form|survey).*ask.*students.*participate/i,
          /students.*(asked|invited).*respond.*survey/i,
          /form.*optional/i
        ],
        explanation: "This is a Voluntary Response Sample because participants chose to respond â€” they were not randomly selected."
      },
      {
        name: "Simple Random Sampling",
        keywords: ["random sample", "equal chance", "no groups", "entire population", "randomly selected individuals"],
        scenarios: [
          /random(ly)? (select|choose|pick|draw) (students|people) (from|out of) (all|entire|whole) group/i,
          /everyone.*equal chance/i
        ],
        explanation: "This is Simple Random Sampling because every individual in the population had an equal chance of being selected, with no grouping."
      },
      {
        name: "Stratified Random Sampling",
        keywords: ["stratified", "strata", "grouped by", "divided into categories", "one from each"],
        scenarios: [
          /divided.*by.*(faculty|gender|age|group)/i,
          /select.*(one|some).*from each group/i
        ],
        explanation: "This is Stratified Random Sampling because the population was divided once into unique groups and one or more individuals were selected from each."
      },
      {
        name: "Multistage Random Sampling",
        keywords: ["multiple stages", "select groups then individuals", "grouped twice", "sampled in steps"],
        scenarios: [
          /first.*select.*(towns|schools|areas).*then.*(select|choose).*students/i,
          /select.*groups.*then.*sample.*from each/i
        ],
        explanation: "This is Multistage Random Sampling because the population was divided more than once and individuals were sampled from final subgroups."
      },
      {
        name: "Cluster Sampling",
        keywords: ["cluster", "group selected", "surveyed all in group", "entire group", "whole subgroup"],
        scenarios: [
          /divided.*groups.*select.*some.*survey all.*in those groups/i,
          /select.*entire.*group.*and.*survey all/i
        ],
        explanation: "This is Cluster Sampling because the population was divided into groups, and all members of selected groups were surveyed."
      }
    ];

    function analyzeQuestion() {
      const input = document.getElementById("question").value.toLowerCase();
      const outputDiv = document.getElementById("output");

      // Try exact regex match first
      for (const method of methods) {
        if (method.scenarios.some(regex => regex.test(input))) {
          outputDiv.innerHTML = `<div class="method">Answer: ${method.name}</div><div class="explanation">${method.explanation}</div>`;
          outputDiv.classList.add('show');
          return;
        }
      }

      // Then try keyword matching
      for (const method of methods) {
        if (method.keywords.some(word => input.includes(word.toLowerCase()))) {
          outputDiv.innerHTML = `<div class="method">Answer: ${method.name}</div><div class="explanation">${method.explanation}</div>`;
          outputDiv.classList.add('show');
          return;
        }
      }

      // If nothing matched
      outputDiv.innerHTML = `<div class="method">Answer: Unable to determine</div><div class="explanation">Please check the question for clarity or rephrase using sampling terminology.</div>`;
      outputDiv.classList.add('show');
    }

    const examples = [
      "The lecturer asks the class to answer a question. Everyone has the same chance to be picked.",
      "A university is split into faculties. One student is selected from each faculty.",
      "A population is divided into towns. Some towns are picked, and everyone in those towns is surveyed.",
      "First, several towns are selected. Then 10 students are chosen from each selected town.",
      "The Department of Economics sends out a Google Form asking students to participate. What type of sampling is this?"
    ];

    function loadExample(index) {
      document.getElementById("question").value = examples[index];
      document.getElementById("output").classList.remove('show');
    }

    function toggleMode() {
      document.body.classList.toggle("dark");
    }
  </script>
</body>
</html>
