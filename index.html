<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sampling Method Identifier</title>
  <style>
    :root {
      --primary: #6a1b9a;
      --primary-light: #9c4dcc;
      --secondary: #26a69a;
      --background: #f5f5f5;
      --card: #ffffff;
      --text: #333333;
      --text-light: #666666;
      --border: #e0e0e0;
      --success: #4caf50;
    }

    body.dark-mode {
      --primary: #bb86fc;
      --primary-light: #d1a4ff;
      --secondary: #03dac6;
      --background: #121212;
      --card: #1e1e1e;
      --text: #e0e0e0;
      --text-light: #b0b0b0;
      --border: #333333;
      --success: #66bb6a;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.6;
      padding: 20px;
      transition: all 0.3s ease;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }

    header {
      text-align: center;
      margin-bottom: 30px;
      position: relative;
    }

    h1 {
      color: var(--primary);
      font-size: 2.5rem;
      margin-bottom: 10px;
    }

    .subtitle {
      color: var(--text-light);
      font-size: 1.1rem;
    }

    .toggle-container {
      position: absolute;
      top: 0;
      right: 0;
      display: flex;
      align-items: center;
    }

    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 30px;
      margin-left: 10px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--border);
      transition: .4s;
      border-radius: 34px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 22px;
      width: 22px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: var(--primary);
    }

    input:checked + .slider:before {
      transform: translateX(30px);
    }

    .card {
      background-color: var(--card);
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      padding: 25px;
      margin-bottom: 30px;
    }

    .input-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--primary);
    }

    textarea {
      width: 100%;
      min-height: 150px;
      padding: 15px;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-family: inherit;
      font-size: 16px;
      resize: vertical;
      background-color: var(--card);
      color: var(--text);
      transition: border-color 0.3s;
    }

    textarea:focus {
      outline: none;
      border-color: var(--primary);
    }

    button {
      background-color: var(--primary);
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    button:hover {
      background-color: var(--primary-light);
    }

    button i {
      margin-right: 8px;
    }

    .result {
      display: none;
      margin-top: 30px;
      padding: 20px;
      border-radius: 8px;
      background-color: rgba(106, 27, 154, 0.1);
      border-left: 5px solid var(--primary);
      animation: fadeIn 0.5s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .result.show {
      display: block;
    }

    .method-name {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 10px;
    }

    .method-explanation {
      margin-bottom: 15px;
    }

    .confidence-meter {
      margin-top: 10px;
      height: 5px;
      background: #e0e0e0;
      border-radius: 3px;
      overflow: hidden;
    }

    .confidence-bar {
      height: 100%;
      background: var(--primary);
      width: 0%;
      transition: width 0.5s ease;
    }

    .confidence-text {
      font-size: 0.8rem;
      color: var(--text-light);
      margin-top: 3px;
    }

    .examples-container {
      margin-top: 30px;
    }

    .examples-title {
      font-size: 1.2rem;
      color: var(--primary);
      margin-bottom: 15px;
      font-weight: 600;
    }

    .example-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }

    .example-button {
      background-color: var(--secondary);
      color: white;
      border: none;
      padding: 8px 16px;
      font-size: 14px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .example-button:hover {
      opacity: 0.9;
      transform: translateY(-2px);
    }

    footer {
      text-align: center;
      margin-top: 40px;
      color: var(--text-light);
      font-size: 14px;
    }

    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .toggle-container {
        position: static;
        justify-content: center;
        margin-top: 15px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Sampling Method Identifier</h1>
      <p class="subtitle">Determine the sampling method used in research scenarios</p>
      <div class="toggle-container">
        <span>Dark Mode</span>
        <label class="toggle-switch">
          <input type="checkbox" id="darkModeToggle">
          <span class="slider"></span>
        </label>
      </div>
    </header>

    <main>
      <div class="card">
        <div class="input-group">
          <label for="question">Enter your sampling question:</label>
          <textarea id="question" placeholder="Example: A researcher obtains a list of all students and randomly selects 100..."></textarea>
        </div>
        <button id="analyzeBtn" onclick="analyzeQuestion()">
          <i>üîç</i> Analyze Sampling Method
        </button>
        
        <div id="result" class="result">
          <div class="method-name" id="methodName">Method Name</div>
          <div class="method-explanation" id="methodExplanation">Explanation will appear here...</div>
          <div class="confidence-meter">
            <div class="confidence-bar" id="confidenceBar"></div>
          </div>
          <div class="confidence-text" id="confidenceText">Confidence: 0%</div>
        </div>
      </div>

      <div class="examples-container">
        <h3 class="examples-title">Try these examples:</h3>
        <div class="example-buttons">
          <button class="example-button" onclick="loadExample(0)">Voluntary Response</button>
          <button class="example-button" onclick="loadExample(1)">Simple Random</button>
          <button class="example-button" onclick="loadExample(2)">Stratified</button>
          <button class="example-button" onclick="loadExample(3)">Multistage</button>
          <button class="example-button" onclick="loadExample(4)">Cluster</button>
        </div>
      </div>
    </main>

    <footer>
      <p>Created for ECON1005 students | No Limits Tutorial Service </p>
    </footer>
  </div>

  <script>
    // Enhanced Natural Language Matching System with Question Bank
    class SamplingMethodClassifier {
      constructor() {
        this.methods = [
          "Voluntary Response Sample",
          "Simple Random Sampling", 
          "Stratified Random Sampling",
          "Multistage Random Sampling",
          "Cluster Sampling"
        ];
        
        this.questionBank = [];
        this.initializeQuestionBank();
      }
      
      initializeQuestionBank() {
        // Your provided question bank
        this.questionBank = [
          {
            question: "An international pet adoption agency is working to relocate dogs from Jamaica and Canada to new homes in other countries. To ensure the health and suitability of the dogs for adoption, a team visits shelters in both countries and selects a random sample of dogs for health assessments, recording their weight and temperament for the study.",
            method: "Simple Random Sampling",
            explanation: "This is Simple Random Sampling because dogs were selected randomly from the entire population without any grouping or stratification."
          },
          {
            question: "An international pet adoption agency is relocating dogs from Jamaica and Canada to new homes in other countries. To ensure a fair representation of different breeds and sizes, the agency divides the dogs into groups based on breed (e.g., small breeds, medium breeds, and large breeds). Then, they randomly select a proportional number of dogs from each group for health assessments, recording their weight and temperament for the study.",
            method: "Stratified Random Sampling",
            explanation: "This is Stratified Random Sampling because the population was divided into breed groups (strata) and then randomly sampled from each group."
          },
          {
            question: "A study is being conducted to determine the average number of primary school children in rural St. Andrew who attend face-to-face sessions. Seven towns were chosen at random from a total of twenty. Forty children were then selected at random. What type of sampling method is being used?",
            method: "Multistage Random Sampling",
            explanation: "This is Multistage Random Sampling because the selection process occurred in multiple stages (first towns, then children within towns)."
          },
          {
            question: "The Department of Economics would like to know the preferred mode of delivery for classes next semester. They obtain a list of all 2000 students and select 100 from that list. What type of sampling Method is being used?",
            method: "Simple Random Sampling",
            explanation: "This is Simple Random Sampling because students were selected randomly from the complete list without any grouping."
          },
          {
            question: "A candy company wishes to research its customers' purchasing behaviors in order to forecast the future of its product line. If there are 10,000 consumers, a random sample of 100 customers may be chosen. What kind of sampling technique is being employed?",
            method: "Simple Random Sampling",
            explanation: "This is Simple Random Sampling because customers were selected randomly from the entire population."
          },
          {
            question: "The Department of Economics would like to know the preferred mode of delivery for classes next semester. The department sends out a google form asking students to participate. What type of sampling method is being used?",
            method: "Voluntary Response Sample",
            explanation: "This is a Voluntary Response Sample because students chose whether to participate in the survey."
          },
          {
            question: "7Krave bearers in Kingston are divided into four groups. They randomly select 2 groups and interviewed all riders in each group to determine whether they have been robbed in the last two months. What type of sampling method is being used?",
            method: "Cluster Sampling",
            explanation: "This is Cluster Sampling because groups (clusters) were randomly selected and all members of those groups were surveyed."
          },
          {
            question: "A bank wants to conduct a client satisfaction survey. Their customers either have chequing accounts, savings accounts or both. They select twenty customers with only have checking accounts, ten customers with only savings accounts, and five customers with both types of account are chosen at random. What type of sampling method is being used?",
            method: "Stratified Random Sampling",
            explanation: "This is Stratified Random Sampling because customers were divided into account type groups (strata) and then sampled from each group."
          },
          {
            question: "A research team wants to conduct analysis on countries based on their political regime types. Countries are classified into the following regimes: full democracies, flawed democracies, hybrid regimes and authoritarian regimes. The team randomly selects 5 countries from each of the 4 regimes.",
            method: "Stratified Random Sampling",
            explanation: "This is Stratified Random Sampling because countries were divided into political regime groups (strata) and then sampled from each group."
          },
          {
            question: "A bank manager wants to determine the level of work-life balance being experienced by team members. The manager collects data from 10 randomly selected team members at 5 randomly selected locations.",
            method: "Multistage Random Sampling",
            explanation: "This is Multistage Random Sampling because the selection process occurred in multiple stages (first locations, then team members within locations)."
          },
          {
            question: "To determine the knowledge and attitudes of University students to crypto currency, a research team obtains a list of all students registered at a University. They then randomly select 1200 students to participate in their study.",
            method: "Simple Random Sampling",
            explanation: "This is Simple Random Sampling because students were selected randomly from the complete list."
          },
          {
            question: "You are considering buying a car, but you need to do the necessary research to help you make a decision. You therefore go to a random sample of car dealers and collect information on every model of cars they sell in Jamaica.",
            method: "Cluster Sampling",
            explanation: "This is Cluster Sampling because dealers (clusters) were randomly selected and all models from those dealers were surveyed."
          },
          {
            question: "Town planners are concerned about the amount of traffic on Mandela Highway in the mornings. They randomly sample 20 days in four randomly selected months, and collect the number of cars at specific intersections along the thoroughfare.",
            method: "Multistage Random Sampling",
            explanation: "This is Multistage Random Sampling because the selection process occurred in multiple stages (first months, then days within months)."
          },
          {
            question: "Jamaica was just voted as one of the cheapest tourist destinations. Before the announcement was made, the Jamaica Tourist Board randomly selected 20 passengers on each flight that landed at the Sangster International Airport.",
            method: "Cluster Sampling",
            explanation: "This is Cluster Sampling because flights (clusters) were selected and passengers from those flights were surveyed."
          },
          {
            question: "RefreshCo is interested in launching a new line of flavoured water. They conduct market research to understand the preferences and opinions of their target demographic to ensure a successful product launch. They collect information from a random sample from all three geographic areas ‚Äì Kingston Metropolitan Area, Other Towns, and Rural Areas.",
            method: "Stratified Random Sampling",
            explanation: "This is Stratified Random Sampling because the population was divided into geographic groups (strata) and then sampled from each group."
          },
          {
            question: "The Western Regional Health Authority (WRHA) plans to conduct a comprehensive assessment of the health status and needs of the population in its jurisdiction. To do so, they randomly select 8 health centres in the WRHA and collect data from all patients who have registered at those centres.",
            method: "Cluster Sampling",
            explanation: "This is Cluster Sampling because health centers (clusters) were randomly selected and all patients from those centers were surveyed."
          },
          {
            question: "A study is aimed at estimating the average number of bilingual students per secondary school in Puerto Rico. Out of ten (10) major towns in Puerto Rico five (5) were selected randomly, from that 20 secondary schools were randomly selected, and 35 randomly selected classrooms.",
            method: "Multistage Random Sampling",
            explanation: "This is Multistage Random Sampling because the selection process occurred in multiple stages (towns ‚Üí schools ‚Üí classrooms)."
          },
          {
            question: "An Economics lecturer wants to know how his students like OurVLE as compared to another learning platform. He asks students to send him their opinions by e-mail. Forty percent of his students respond.",
            method: "Voluntary Response Sample",
            explanation: "This is a Voluntary Response Sample because students chose whether to participate by sending their opinions."
          },
          {
            question: "In a study of work preferences, 40 workers in a large company were randomly selected and asked whether they preferred to work 4 ten-hour days or 5 eight-hour days per week.",
            method: "Simple Random Sampling",
            explanation: "This is Simple Random Sampling because workers were selected randomly from the entire population."
          },
          {
            question: "A researcher is planning a survey to estimate the proportion of employers who do not offer health insurance. Knowing that this may differ by company size, she takes random samples of 100 companies from each of these types: individually/privately owned company with < 50 employees, individually/privately owned company with ‚â• 50 employees, public company.",
            method: "Stratified Random Sampling",
            explanation: "This is Stratified Random Sampling because companies were divided into size groups (strata) and then sampled from each group."
          },
          {
            question: "An opinion poll is given to a sample of 90 members of a local gym. The members are first divided into men and women, and then a simple random sample of 45 men and a separate simple random sample of 45 women are taken.",
            method: "Stratified Random Sampling",
            explanation: "This is Stratified Random Sampling because members were divided into gender groups (strata) and then sampled from each group."
          },
          {
            question: "You plan to sample residents of registered nursing homes in your state. You randomly select 5 counties from your state. From the 5 counties you obtain a list of all nursing homes in those counties and randomly select 5 from each county. You then obtain a list of all residents in the 25 selected nursing homes and randomly select 5 individuals from each nursing home to sample.",
            method: "Multistage Random Sampling",
            explanation: "This is Multistage Random Sampling because the selection process occurred in multiple stages (counties ‚Üí nursing homes ‚Üí residents)."
          },
          {
            question: "A television station is interested in predicting whether voters in its broadcast area are in favour of government funding for abortions. It asks its viewers to phone in and indicate whether they support or are opposed to federal funding for abortions.",
            method: "Voluntary Response Sample",
            explanation: "This is a Voluntary Response Sample because viewers chose whether to participate by phoning in."
          },
          {
            question: "You plan to sample residents of registered nursing homes. You randomly select 15 nursing home residents in your country.",
            method: "Simple Random Sampling",
            explanation: "This is Simple Random Sampling because residents were selected randomly from the entire population."
          },
          {
            question: "An opinion poll is given to a sample of 90 members of a local gym. You leave the survey at the front desk of the gym with a notice asking members to complete the survey.",
            method: "Voluntary Response Sample",
            explanation: "This is a Voluntary Response Sample because members chose whether to participate by completing the survey."
          },
          {
            question: "You plan to sample residents of registered nursing homes. You randomly select 5 nursing homes in your country and survey all the residents in those selected homes.",
            method: "Cluster Sampling",
            explanation: "This is Cluster Sampling because nursing homes (clusters) were randomly selected and all residents from those homes were surveyed."
          }
        ];
      }
      
      findBestMatch(input) {
        const cleanInput = this.normalizeText(input);
        
        // 1. First try exact or near-exact matches from question bank
        const bankMatch = this.findBankMatch(cleanInput);
        if (bankMatch && bankMatch.similarity > 0.9) {
          return {
            ...bankMatch,
            confidence: bankMatch.similarity,
            source: 'bank'
          };
        }
        
        // 2. Try pattern matching if no good bank match
        const patternMatch = this.patternMatch(cleanInput);
        if (patternMatch) {
          return {
            ...patternMatch,
            confidence: Math.max(patternMatch.confidence, bankMatch?.similarity || 0),
            source: bankMatch ? 'hybrid' : 'pattern'
          };
        }
        
        // 3. Return best bank match if no pattern match (even if low confidence)
        if (bankMatch) {
          return {
            ...bankMatch,
            confidence: bankMatch.similarity,
            source: 'bank'
          };
        }
        
        return null;
      }
      
      normalizeText(text) {
        return text.toLowerCase()
          .replace(/[^\w\s]/g, '')
          .replace(/\s+/g, ' ')
          .trim();
      }
      
      findBankMatch(input) {
        let bestMatch = null;
        let highestSimilarity = 0;
        
        for (const item of this.questionBank) {
          const cleanQuestion = this.normalizeText(item.question);
          const similarity = this.calculateSimilarity(input, cleanQuestion);
          
          if (similarity > highestSimilarity) {
            highestSimilarity = similarity;
            bestMatch = {
              method: item.method,
              explanation: item.explanation,
              similarity
            };
          }
        }
        
        return bestMatch;
      }
      
      patternMatch(input) {
        // Patterns for each sampling method
        const patterns = [
          {
            method: "Voluntary Response Sample",
            regex: /(volunteer|self-select|opt in|google form|decide to participate|send.*opinions|phone in|complete.*survey)/i,
            explanation: "This is a Voluntary Response Sample because participants chose whether to respond.",
            confidence: 0.85
          },
          {
            method: "Simple Random Sampling",
            regex: /(randomly select|random sample|selected at random).*(from|of|among).*(entire|whole|complete|all)/i,
            explanation: "This is Simple Random Sampling because individuals were selected randomly from the entire population without grouping.",
            confidence: 0.9
          },
          {
            method: "Stratified Random Sampling",
            regex: /(divided|grouped|classified).*by.*(type|category|strata|group).*select.*from each/i,
            explanation: "This is Stratified Random Sampling because the population was divided into groups (strata) and then sampled from each group.",
            confidence: 0.88
          },
          {
            method: "Multistage Random Sampling",
            regex: /(first|stage).*select.*then.*select|multistage|multiple stages/i,
            explanation: "This is Multistage Random Sampling because selection occurred in multiple stages (e.g., first locations, then individuals).",
            confidence: 0.85
          },
          {
            method: "Cluster Sampling",
            regex: /(select.*groups?.*survey all|all.*in selected|every.*in chosen)/i,
            explanation: "This is Cluster Sampling because groups (clusters) were selected and all members of those groups were surveyed.",
            confidence: 0.87
          }
        ];
        
        for (const pattern of patterns) {
          if (pattern.regex.test(input)) {
            return pattern;
          }
        }
        
        return null;
      }
      
      calculateSimilarity(s1, s2) {
        // Simple word overlap similarity
        const words1 = new Set(s1.split(' '));
        const words2 = s2.split(' ');
        let matches = 0;
        
        for (const word of words2) {
          if (words1.has(word)) matches++;
        }
        
        return matches / Math.max(words1.size, words2.length);
      }
    }

    // Initialize classifier
    const classifier = new SamplingMethodClassifier();
    
    // DOM elements
    const questionInput = document.getElementById('question');
    const resultDiv = document.getElementById('result');
    const methodName = document.getElementById('methodName');
    const methodExplanation = document.getElementById('methodExplanation');
    const confidenceBar = document.getElementById('confidenceBar');
    const confidenceText = document.getElementById('confidenceText');
    const darkModeToggle = document.getElementById('darkModeToggle');

    // Example questions for the buttons
    const examples = [
      classifier.questionBank[5].question,  // Voluntary Response
      classifier.questionBank[3].question,  // Simple Random
      classifier.questionBank[1].question,  // Stratified
      classifier.questionBank[2].question,  // Multistage
      classifier.questionBank[6].question   // Cluster
    ];

    function analyzeQuestion() {
      const input = questionInput.value.trim();
      
      if (!input) {
        displayResult("Error", "Please enter a question about sampling methods.", 0);
        return;
      }

      const result = classifier.findBestMatch(input);
      
      if (result) {
        displayResult(result.method, result.explanation, result.confidence);
      } else {
        displayResult(
          "Unable to determine",
          "Please check the question for clarity or rephrase using sampling terminology.",
          0
        );
      }
    }

    function displayResult(name, explanation, confidence = 1) {
      methodName.textContent = name;
      methodExplanation.textContent = explanation;
      
      // Update confidence meter
      const confidencePercent = Math.round(confidence * 100);
      confidenceBar.style.width = `${confidencePercent}%`;
      
      let confidenceLevel;
      if (confidencePercent >= 85) confidenceLevel = 'high';
      else if (confidencePercent >= 70) confidenceLevel = 'moderate';
      else confidenceLevel = 'low';
      
      confidenceText.textContent = `Confidence: ${confidencePercent}% (${confidenceLevel})`;
      resultDiv.className = "result show";
    }

    function loadExample(index) {
      if (index >= 0 && index < examples.length) {
        questionInput.value = examples[index];
        resultDiv.className = "result";
      }
    }

    // Dark mode toggle
    darkModeToggle.addEventListener('change', function() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('darkMode', this.checked);
    });

    // Check for saved dark mode preference
    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark-mode');
      darkModeToggle.checked = true;
    }

    // Initialize with an example
    window.onload = function() {
      questionInput.value = examples[1]; // Simple Random example
    };
  </script>
</body>
</html>
