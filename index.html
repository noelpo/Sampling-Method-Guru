<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sampling Smart Accessor</title>
  <style>
    :root {
      --bg: #ffffff;
      --text: #333;
      --card: #fff;
      --accent: #6a1b9a;
      --highlight: #f3e5f5;
    }
    body.dark {
      --bg: #1e1e1e;
      --text: #e0e0e0;
      --card: #2c2c2c;
      --accent: #bb86fc;
      --highlight: #3a2a4d;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--bg);
      color: var(--text);
      padding: 2rem;
      margin: 0;
      transition: background 0.3s, color 0.3s;
    }
    h1 {
      text-align: center;
      color: var(--accent);
      margin-bottom: 1rem;
    }
    .container {
      max-width: 700px;
      margin: 0 auto;
      background: var(--card);
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.15);
      transition: background 0.3s;
    }
    textarea {
      width: 100%;
      height: 150px;
      padding: 1rem;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      resize: vertical;
      background: var(--card);
      color: var(--text);
    }
    button, .example-btn {
      margin-top: 1rem;
      background-color: var(--accent);
      color: white;
      border: none;
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover, .example-btn:hover {
      background-color: #4a148c;
    }
    .result {
      margin-top: 2rem;
      padding: 1.5rem;
      border-radius: 8px;
      background-color: var(--highlight);
      border-left: 6px solid var(--accent);
      display: none;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.4s ease-in-out;
    }
    .result.show {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }
    .method {
      font-weight: bold;
      font-size: 1.2rem;
      color: var(--accent);
    }
    .explanation {
      margin-top: 0.5rem;
    }
    .toggle {
      text-align: right;
      margin-bottom: 1rem;
    }
    .examples {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    .example-btn {
      background-color: #9575cd;
    }
    label {
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 0.5rem;
    }
    #modeToggle {
      width: 17px;
      height: 17px;
    }
  </style>
</head>
<body>
  <h1>Sampling Smart Accessor</h1>
  <div class="container">
    <div class="toggle">
      <label>
        <input type="checkbox" id="modeToggle"> Dark Mode
      </label>
    </div>
    <textarea id="question" placeholder="Type your sampling question here...">A corporation wants to determine if workers who work from home are more productive. They compiled a list of all 300 employees and classified them by educational level. Then they interviewed 20 persons from each category. What type of sampling method is being used?</textarea>
    <button onclick="analyzeQuestion()">Get Sampling Method</button>
    <div class="examples">
      <button class="example-btn" onclick="loadExample(0)">Example 1</button>
      <button class="example-btn" onclick="loadExample(1)">Example 2</button>
      <button class="example-btn" onclick="loadExample(2)">Example 3</button>
      <button class="example-btn" onclick="loadExample(3)">Example 4</button>
      <button class="example-btn" onclick="loadExample(4)">Example 5</button>
    </div>
    <div id="output" class="result show">
      <div class="method">Answer: Stratified Random Sampling</div>
      <div class="explanation">This is Stratified Random Sampling because the population was divided into educational level categories and 20 persons were interviewed from each category.</div>
    </div>
  </div>

  <script>
    const methods = [
      {
        name: "Voluntary Response Sample",
        keywords: ["self-selected", "volunteer", "chose to respond", "google form", "opted in", "decided to participate"],
        scenarios: [
          /(google\sform|form).*ask.*students.*participate/i,
          /students.*(asked|invited).*respond.*survey/i,
          /form.*optional/i
        ],
        explanation: "This is a Voluntary Response Sample because participants chose to respond â€” they were not randomly selected."
      },
      {
        name: "Simple Random Sampling",
        keywords: ["random sample", "equal chance", "no groups", "entire population", "randomly selected individuals"],
        scenarios: [
          /random(ly)? (select|choose|pick|draw) (students|people) (from|out of) (all|entire|whole) group/i,
          /everyone.*equal chance/i
        ],
        explanation: "This is Simple Random Sampling because every individual in the population had an equal chance of being selected, with no grouping."
      },
      {
        name: "Stratified Random Sampling",
        keywords: ["stratified", "strata", "grouped by", "divided into categories", "one from each", "each category", "from each"],
        scenarios: [
          /(classified|divided|grouped).*by.*(educational level|group|category)/i,
          /divided.*by.*(faculty|gender|age|group|level)/i,
          /select.*(one|some|\d+).*from each (group|category|stratum)/i,
          /interviewed.*\d+.*from each/i
        ],
        explanation: "This is Stratified Random Sampling because the population was divided into distinct categories (strata) and a sample was taken from each category."
      },
      {
        name: "Multistage Random Sampling",
        keywords: ["multiple stages", "select groups then individuals", "grouped twice", "sampled in steps"],
        scenarios: [
          /first.*select.*(towns|schools|areas).*then.*(select|choose).*students/i,
          /select.*groups.*then.*sample.*from each/i
        ],
        explanation: "This is Multistage Random Sampling because the population was divided more than once and individuals were sampled from final subgroups."
      },
      {
        name: "Cluster Sampling",
        keywords: ["cluster", "group selected", "surveyed all in group", "entire group", "whole subgroup"],
        scenarios: [
          /divided.*groups.*select.*some.*survey all.*in those groups/i,
          /select.*entire.*group.*and.*survey all/i
        ],
        explanation: "This is Cluster Sampling because the population was divided into groups, and all members of selected groups were surveyed."
      }
    ];

    function analyzeQuestion() {
      const input = document.getElementById("question").value.toLowerCase();
      const outputDiv = document.getElementById("output");
      
      // Clear previous results
      outputDiv.className = "result";
      
      if (!input.trim()) {
        outputDiv.innerHTML = `<div class="method">Error: No input</div><div class="explanation">Please enter a question about sampling methods.</div>`;
        outputDiv.className = "result show";
        return;
      }

      // First check for exact matches to specific scenarios
      if (/(classified|divided|grouped).*by.*(educational level|category).*(interviewed|selected).*\d+.*from each/i.test(input)) {
        outputDiv.innerHTML = `<div class="method">Answer: Stratified Random Sampling</div>
                              <div class="explanation">This is Stratified Random Sampling because the population was divided into educational level categories and samples were taken from each category.</div>`;
        outputDiv.className = "result show";
        return;
      }

      // Then check other methods
      for (const method of methods) {
        if (method.scenarios.some(regex => regex.test(input))) {
          outputDiv.innerHTML = `<div class="method">Answer: ${method.name}</div><div class="explanation">${method.explanation}</div>`;
          outputDiv.className = "result show";
          return;
        }
      }

      for (const method of methods) {
        if (method.keywords.some(word => input.includes(word))) {
          outputDiv.innerHTML = `<div class="method">Answer: ${method.name}</div><div class="explanation">${method.explanation}</div>`;
          outputDiv.className = "result show";
          return;
        }
      }

      outputDiv.innerHTML = `<div class="method">Answer: Unable to determine</div><div class="explanation">Please check the question for clarity or rephrase using sampling terminology.</div>`;
      outputDiv.className = "result show";
    }

    const examples = [
      "The class was told to answer a question. Each student had the same chance to be picked.",
      "The university is split into faculties. One student is selected from each faculty.",
      "A population is divided into towns. Some towns are picked, and every person in those towns is surveyed.",
      "First, several towns were selected. Then 10 students were chosen from each selected town.",
      "The Department of Economics sends out a Google Form asking students to participate. What type of sampling is this?"
    ];

    function loadExample(index) {
      document.getElementById("question").value = examples[index];
      document.getElementById("output").className = "result";
    }

    // Dark mode toggle functionality
    const modeToggle = document.getElementById("modeToggle");
    modeToggle.addEventListener("change", function() {
      document.body.classList.toggle("dark");
      // Save preference to localStorage
      localStorage.setItem("darkMode", this.checked);
    });

    // Check for saved preference
    if (localStorage.getItem("darkMode") === "true") {
      document.body.classList.add("dark");
      modeToggle.checked = true;
    }

    // Initialize with the correct answer for the default question
    window.onload = function() {
      analyzeQuestion();
    };
  </script>
</body>
</html>
